{"version":3,"sources":["images/Vector.svg","components/Header.js","images/avataricon.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","id","link","name","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","placeholder","required","api","options","this","_token","token","_url","url","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_getResponseData","userName","userJob","method","body","JSON","stringify","cardName","cardLink","cardId","PopupWithForm","isOpen","onSubmit","title","children","buttonText","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","EditAvatarPopup","onUpdateAvatar","refInput","useRef","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setСards","closeAllPopups","getUserInfo","user","catch","err","console","log","handleEsc","event","key","document","addEventListener","removeEventListener","closeByOverlay","evt","classList","contains","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","profile","setUserInfo","setUserAvatar","copy","Object","assign","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee310021.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.bbe2a6ea.svg\";","import React from 'react';\r\nimport logo from './../images/Vector.svg'; // Путь к изображению внутри сборки\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header root__section\">\r\n    <img className=\"header__logo\" src={logo} alt=\"Логотип\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/avataricon.ae1a976d.svg\";","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext({});\r\n\r\n","import React from 'react';\r\nimport {CurrentUserContext} from \"./../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `card__vector-delete ${isOwn ? 'card__vector-delete_type_activ' : ''}`\r\n  );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `card__vector-like ${isLiked ? 'card__vector_active' : ''}`;\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n      } \r\n\r\n      function handleLikeClick () {\r\n        props.onCardLike(props.card);\r\n      } \r\n      \r\n      function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n      }\r\n    //  console.log(props);\r\n\r\n  return (  \r\n    <article className=\"card\" id={props.card._id}>\r\n     <img className=\"card__image\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n     <div className=\"card__text\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div className=\"card__like-group\">\r\n           <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n           <label className=\"card__amount-like\">{props.card.likes.length}</label>\r\n        </div>\r\n     </div>\r\n     <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\r\n     </article>\r\n   \r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport avatar from \"./../images/avataricon.svg\";\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from \"./../contexts/CurrentUserContext\";\r\n\r\n\r\nfunction Main (props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n   \r\n\r\n\r\n  return (\r\n          <>         \r\n    <main className=\"content\">\r\n    <section className=\"profile root__section\">\r\n        <div className=\"profile__avatar-info\">\r\n            <div className=\"profile__change-avatar\">\r\n                <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})`  }}  />\r\n                <img onClick={props.onEditAvatar} className=\"profile__edit-icon\" src={avatar} alt=\"Редактировать\"/>\r\n            </div>\r\n            <div className=\"profile__info\">\r\n                <div className=\"profile__info-name\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <button  onClick={props.onEditProfile}  type=\"button\" className=\"profile__edit-button\" aria-label=\"Редактировать\">     \r\n                    </button>\r\n                </div>\r\n                <p className=\"profile__job\">{currentUser.about}</p>\r\n            </div>\r\n        </div>\r\n        <button type=\"button\" onClick={props.onAddPlace}  className=\"profile__add-button\" aria-label=\"Добавить\">                   \r\n       </button>\r\n    </section>\r\n\r\n    <section className=\"cards root__section\" id=\"cards\">\r\n       { props.cards.map((card, i) => (\r\n           <Card onCardLike={props.onCardLike} onCardDelete ={props.onCardDelete}  key={card._id} card={card} onCardClick={props.onCardClick} /> \r\n        ))}\r\n      </section>    \r\n</main>\r\n</>\r\n\r\n  );\r\n}\r\n\r\nexport default Main ;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer root__section\">\r\n    <p className=\"footer__copyright\"> &copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_img ${props.card.link ? \"popup_opened\" : \"\"}`}>\r\n        <form id=\"imagePopup\" className=\"popup__img\">\r\n            <button type=\"button\" className=\"popup__close popup__close_type_img\" onClick={props.onClose}> \r\n                    <div className=\"popup__close-icon\"></div>\r\n                </button>\r\n            <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n            <label type=\"text\" className=\"popup__name\" name=\"nameInputImage\" placeholder=\"Название\" required>{props.card.name}</label>\r\n        </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;"," class Api {\r\n    constructor(options) {\r\n        this._token = options.token;\r\n        this._url = options.url;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n                headers: {\r\n                    authorization: this._token\r\n                }\r\n            })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n\r\n    getUserInfo () {\r\n        return fetch(`${this._url}/users/me`, {\r\n                headers: {\r\n                    authorization: this._token\r\n                }\r\n            })\r\n            .then(res => this._getResponseData(res));\r\n    }\r\n\r\n    setUserInfo(userName, userJob) {\r\n        return fetch(`${this._url}/users/me`, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    authorization: this._token,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: userName,\r\n                    about: userJob\r\n                })\r\n            })\r\n            .then(res => this._getResponseData(res));\r\n\r\n    }\r\n\r\n\r\n    addCard(cardName, cardLink) {\r\n        return fetch(`${this._url}/cards`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    authorization: this._token,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: cardName,\r\n                    link: cardLink\r\n                })\r\n            })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n                headers: {\r\n                    authorization: this._token\r\n                }\r\n            })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._url}/cards/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    authorization: this._token\r\n                }\r\n            })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    setUserAvatar(url) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: url\r\n            })\r\n        }).then(res => this._getResponseData(res))\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n    url: `https://mesto.nomoreparties.co/v1/cohort-25`,\r\n    token: 'e2f184c2-a2b5-47dc-b13c-5faef2aabe75'\r\n});","import React from 'react';\r\n\r\nfunction PopupWithForm (props) {\r\n\r\n  return (\r\n<div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"\"}`}>   \r\n   <div className= {`popup__container popup__container-${props.name}`}>\r\n       <form className={`popup__form popup__form-${props.name}`} onSubmit={props.onSubmit}>\r\n           <fieldset className=\"popup__form-set\">\r\n               <button type=\"button\" onClick ={props.onClose} className={`popup__close popup__close_type_${props.name}`}> \r\n               <div className=\"popup__close-icon\"></div>\r\n               </button>\r\n               <h2 className=\"popup__title\">{props.title}</h2>\r\n               {props.children}\r\n               <button type=\"submit\" className={`popup__button popup__button_type_${props.name}`}> {props.buttonText} </button>\r\n           </fieldset>\r\n       </form>\r\n   </div>\r\n</div>\r\n   \r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm   from './PopupWithForm';\r\nimport {CurrentUserContext} from \"./../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen,onClose,onUpdateUser}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName]=React.useState('');\r\n    const [description , setDescription]=React.useState(\"\");\r\n   \r\n    const changeName=(e)=>{\r\n        setName(e.target.value);  \r\n    }\r\n\r\n    const changeDescription=(e)=>{\r\n        setDescription(e.target.value);  \r\n    }\r\n\r\n    // После загрузки текущего пользователя из API\r\n    // его данные будут использованы в управляемых компонентах.\r\n    React.useEffect(() => {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleSubmit(e) {\r\n      // Запрещаем браузеру переходить по адресу формы\r\n      e.preventDefault();    \r\n      // Передаём значения управляемых компонентов во внешний обработчик\r\n      onUpdateUser({\r\n        name,\r\n        about: description,\r\n      });\r\n    }\r\n\r\n  return ( \r\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" isOpen={isOpen} onClose={onClose} buttonText=\"Сохранить\" onSubmit ={handleSubmit}>\r\n    <div className=\"form__container\">\r\n    <input type=\"text\" value={name} onChange ={changeName} className=\"popup__input popup__input_type_name\" id=\"name\" name=\"nameInput\" placeholder=\"Имя\" required  />\r\n    <span className=\"popup__input-error name-error\"></span>\r\n    <input type=\"text\" value={description} onChange ={changeDescription} className=\"popup__input popup__input_type_job\" id=\"job\" name=\"jobInput\" placeholder=\"О себе\" required  />\r\n    <span className=\"popup__input-error job-error\"></span>\r\n    </div>\r\n    </PopupWithForm>\r\n   \r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm   from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen,onClose,onUpdateAvatar}) {\r\n  const refInput = React.useRef(''); // записываем объект, возвращаемый хуком, в переменную\r\n\r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onUpdateAvatar({\r\n        avatar: refInput.current.value,\r\n      });\r\n      refInput.current.value='';\r\n    }\r\n\r\n    \r\n\r\n  return ( \r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} buttonText=\"Сохранить\" onSubmit ={handleSubmit}>\r\n        <div className=\"form__container\">\r\n        <input type=\"url\" ref={refInput} className=\"popup__input popup__input_type_text\" id=\"avatar\" name=\"avatar\" placeholder=\"https://somewebsite.com/someimage.jpg\" required />\r\n        <span className=\"popup__input-error avatar-error\"></span>\r\n        </div>\r\n    </PopupWithForm>  \r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm   from './PopupWithForm';\r\n\r\nfunction AddPlacePopup ({isOpen,onClose,onAddPlace}) {\r\n\r\n    const [name, setName]=React.useState('');\r\n    const [link, setLink]=React.useState('');\r\n   \r\n    const changeName=(e)=>{\r\n        setName(e.target.value);  \r\n    }\r\n\r\n    const changeLink=(e)=>{\r\n      setLink(e.target.value);  \r\n    }\r\n\r\n    function handleSubmit(e) {\r\n      // Запрещаем браузеру переходить по адресу формы\r\n      e.preventDefault();    \r\n      // Передаём значения управляемых компонентов во внешний обработчик\r\n      onAddPlace({\r\n        name,\r\n        link,\r\n      });\r\n      setName('');\r\n      setLink(''); \r\n    }\r\n\r\n  return ( \r\n    <PopupWithForm name=\"add\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} buttonText=\"Создать\" onSubmit={handleSubmit}>\r\n        <div className=\"form__container\">\r\n        <input value={name} onChange ={changeName} type=\"text\" className=\"popup__input popup__input_type_text\" id=\"add\" name=\"name\" placeholder=\"Название\" required />\r\n        <span className=\"popup__input-error add-error\"></span>\r\n        <input value={link} onChange ={changeLink}type=\"url\" className=\"popup__input popup__input_type_link\" id=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required />\r\n        <span className=\"popup__input-error url-error\"></span>\r\n        </div>\r\n    </PopupWithForm> \r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\nimport './../pages/index.css';\nimport Header from './Header';\nimport Main  from './Main';\nimport Footer  from './Footer';\nimport ImagePopup   from './ImagePopup';\nimport {api} from \"./../utils/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup  from \"./AddPlacePopup\";\nimport {CurrentUserContext} from \"./../contexts/CurrentUserContext\";\n\nfunction App () {\n// Хук, управляющий внутренним состоянием.\nconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\nconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\nconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\nconst [selectedCard, setSelectedCard] = React.useState({});\nconst [currentUser, setCurrentUser] = React.useState({});\nconst [cards, setСards] = React.useState([]);\n \n  React.useEffect (()=>{\n    api.getUserInfo ()\n    .then ((user)=>{\n     setCurrentUser(user);\n    })\n    \n    .catch((err) => {\n      console.log(err);\n    })\n\n  },[isEditProfilePopupOpen]);\n\n\n  React.useEffect(() => {\n    const handleEsc = (event) => {\n       if (event.key === 'Escape') {\n        closeAllPopups();\n      }\n    };\n     document.addEventListener('keydown', handleEsc);\n    return () => {\n     document.removeEventListener('keydown', handleEsc);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    const closeByOverlay = (evt) => {\n        if (evt.target.classList.contains('popup')) {\n            closeAllPopups();\n          }\n      }\n     document.addEventListener('mousedown', closeByOverlay);\n\n    return () => {\n     document.removeEventListener('mousedown', closeByOverlay);\n    };\n  }, []);\n\n      \n  React.useEffect(() => {\n    api.getInitialCards()\n    .then((res) => {\n        setСards(res);\n      }).catch(err => console.log(err))\n  },[])\n\n\n  function handleUpdateUser (profile) {\n    api.setUserInfo(profile.name, profile.about)\n    .then ((user)=>{\n      setCurrentUser(user);\n      closeAllPopups();\n     })\n     \n     .catch((err) => {\n       console.log(err);\n     })\n  }\n\n  function handleUpdateAvatar (url){\n    api.setUserAvatar(url.avatar)\n    .then ((user)=>{\n      let copy = Object.assign([], currentUser);\n      copy.avatar = user.avatar;\n      setCurrentUser(copy);\n      closeAllPopups();\n     })\n     \n     .catch((err) => {\n       console.log(err);\n     })\n  }\n\n  function handleAddPlaceSubmit (card) {\n    api.addCard(card.name, card.link)\n    .then ((newCard)=>{\n      setСards([...cards, newCard]);\n      closeAllPopups();\n     })\n     \n     .catch((err) => {\n       console.log(err);\n     })\n  }\n\n    function handleCardClick(card) {\n       setSelectedCard(card);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n    \n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n    \n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function closeAllPopups () {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard({});\n    }\n\n   \n    function handleCardLike(card) {\n      // Снова проверяем, есть ли уже лайк на этой карточке\n      const isLiked = card.likes.some(i => i._id === currentUser._id);        \n      // Отправляем запрос в API и получаем обновлённые данные карточки\n      api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n          // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setСards(newCards);\n      });\n  }\n \n  function handleCardDelete (card) {        \n      api.deleteCard(card._id).then(() => {\n          // Формируем новый массив на основе имеющегося, удаляя из него карточку card._id\n        var newCards = cards.filter(function(c) {\n          return c._id !== card._id;\n        });\n        // Обновляем стейт\n        setСards(newCards);\n      });\n  }\n\n\n    return (<>\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root-page\"/>     \n      <div className=\"root\">\n      <Header />\n      <Main cards ={cards} onCardLike ={handleCardLike} onCardDelete={handleCardDelete} onCardClick={handleCardClick}  onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}/>\n      <Footer />      \n      </div>\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser ={handleUpdateUser}/>\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n  \n      <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n\n    </CurrentUserContext.Provider>\n  </>\n    );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}